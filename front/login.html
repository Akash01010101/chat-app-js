<!DOCTYPE html>  
<html lang="en">  
<head>  
    <meta charset="UTF-8">  
    <meta name="viewport" content="width=device-width, initial-scale=1.0">  
    <title>Login</title>  
    <style>
        body{
            font-family: Arial, Helvetica, sans-serif;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
            background: rgb(3,0,50);
            background: linear-gradient(22deg, rgb(0, 0, 0) 0%, rgba(12,12,145,1) 46%, rgba(86,148,161,1) 100%);
         }
         .fm{
            background-color: #4385cf; /* light background color */  
            padding:20px;
            height: 50vh;
            width: max(30vw,250px);
            display: flex;
            justify-content: center;
            border-radius:8px;
            box-shadow:0px 0px 50px 0px rgba(224, 224, 224, 0.541);
         }
         #login-form {  
          display: flex;  
        flex-direction: column;
        justify-content: center;
        align-items: center;   
}  

input[type="text"],  
input[type="password"] {  
 font-size:16px; 
 padding:10px; 
 margin-bottom:15px; 
 border:1px solid #ccc; 
 border-radius:4px;
 transition: border-color0.3s;
}  

input[type="text"]:focus,  
input[type="password"]:focus {  
 border-color: #007BFF; 
 outline: none;
}  

button[type="submit"] {  
 background-color: #007BFF; 
 color: #fff;
 font-size:16px;  
 padding:10px;  
 border: none; 
 border-radius:4px; 
 cursor: pointer; 
 transition: background-color0.3s; 
}  

button[type="submit"]:hover {  
 background-color: #0056b3; 
} 
button[type="ch"] {  
    margin-top: 30px;
 background-color: #007BFF; 
 color: #fff;
 font-size:16px; 
 padding:10px;
 border: none;  
 border-radius:4px; 
 cursor: pointer; 
 transition: background-color0.3s;
}  

button[type="ch"]:hover {  
 background-color: #0056b3;
} 
    </style>
</head>  
<body>  
    <div class="fm">
        <form id="login-form">  
            <input type="text" id="username" placeholder="Username" required>  
            <input type="password" id="password" placeholder="Password" required>  
            <button type="submit">Login</button>  
        </form> 
    </div> 
    <div id="login-error" style="color:red;"></div>  

    <script>  
        document.getElementById("login-form").addEventListener("submit", async (e) => {  
            e.preventDefault();  
            const username = document.getElementById("username").value;  
            const password = document.getElementById("password").value;  

            const response = await fetch('/login', {  
                method: 'POST',  
                headers: {  
                    'Content-Type': 'application/json'  
                },  
                body: JSON.stringify({ username, password })  
            });  

            const data = await response.json();  
            if (response.ok) {  
                window.location.href = "chats.html"; // Redirect to main chat page  
            } else {  
                document.getElementById("login-error").innerText = data.error;  
            }  
        });  
    </script>  
</body>  
</html>